{
  "name": "Qdrant Hybrid Search Examples",
  "nodes": [
    {
      "name": "Search Documents",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [420, 200],
      "parameters": {
        "method": "POST",
        "url": "http://your-server:8000/webhook",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "action",
              "value": "search"
            },
            {
              "name": "data",
              "value": {
                "query": "{{$json.query}}",
                "mode": "hybrid",
                "limit": 10
              }
            }
          ]
        }
      }
    },
    {
      "name": "Index Documents",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [420, 400],
      "parameters": {
        "method": "POST",
        "url": "http://your-server:8000/webhook",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "action",
              "value": "index"
            },
            {
              "name": "data",
              "value": {
                "documents": [
                  {
                    "text": "{{$json.text}}",
                    "metadata": {
                      "source": "{{$json.source}}",
                      "date": "{{$json.date}}"
                    }
                  }
                ]
              }
            }
          ]
        }
      }
    },
    {
      "name": "Direct Search API",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [420, 600],
      "parameters": {
        "method": "POST",
        "url": "http://your-server:8000/search",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpHeaderAuth",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "Bearer YOUR_API_KEY"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "query",
              "value": "{{$json.searchTerm}}"
            },
            {
              "name": "mode",
              "value": "hybrid"
            },
            {
              "name": "limit",
              "value": 5
            }
          ]
        }
      }
    }
  ],
  "connections": {},
  "settings": {
    "executionOrder": "v1"
  }
}